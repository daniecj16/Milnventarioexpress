<h2>Chat en tiempo real</h2>
<div id="chat"></div>
<form id="form">
  <input type="text" id="mensaje" placeholder="Escribe un mensaje">
  <button type="submit">Enviar</button>
</form>

<script src="/socket.io/socket.io.js"></script>
<script>
  const socket = io();
  document.getElementById('form').addEventListener('submit', e => {
    e.preventDefault();
    const msg = document.getElementById('mensaje').value;
    socket.emit('chat message', msg);
    document.getElementById('mensaje').value = '';
  });

  socket.on('chat message', msg => {
    const chat = document.getElementById('chat');
    chat.innerHTML += `<p>${msg}</p>`;
  });
</script>
